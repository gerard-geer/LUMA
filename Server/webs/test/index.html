<!doctype HTML>
<html ng-app='LumaClient'>
<head>
	<link rel='stylesheet' type='text/css' href='css/rzslider.css'>
	<link rel='stylesheet' type='text/css' href='css/index.css'>
	<script type='text/javascript' src='js/libs/angular.min.js'></script>
	<script type='text/javascript' src='js/libs/rzslider.min.js'></script>
	<script type='text/javascript' src='js/app.js'></script>
	<title>CSH LUMA</title>
</head>
<body>
	<!-- The container that holds the search bar. This is governed by the	 -->
	<!-- QueryController. If a query has been submitted we add a new class	 -->
	<!-- to the component to re-align it so the query results are centered.  -->
	<div class='search_container' ng-controller='QueryController as query'
	ng-class='query.submitted?"submitted":""'>
		<!-- The search bar itself. This contains a form that talks through  -->
		<!-- the QueryController's onSubmit() callback to query the server	 -->
		<!-- after storing the input's value in the QueryController's		 -->
		<!-- query field.													 -->
		<div id='search_bar'>
			<form id='search_form' name='search_form' 
			ng-submit='query.onSubmit()' novalidate>
				<div>
					<input ng-model='query.query' type='text' 
					placeholder='Search LUMA for lights and clients by name or IP address.'
					autofocus/>
					<input type='submit' value='Search.'/>
				</div>
			</form>
		</div>
		<!-- Parent container for all the returned search results.			 -->
		<div id='search_results'>
			<!-- This search result div is repeated for each result	returned -->
			<!-- by the server, each with their own ResultController guiding -->
			<!-- their functionality.										 -->
			<div class='search_result'
			ng-controller='ResultController as result'
			ng-click='result.onSelect(light, query)'
			ng-repeat='light in query.response'>
				<div class='result_content'>
					<div class='light_info'>
						<div class='light name'>
							<p class='label'>Name:</p>{{light.name}}
						</div>
						<div class='light client'>
							<p class='label'>Client:</p>{{light.client}}
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- The "hey man that was a crappy search try again buddy" dialog.	 -->
		<!-- It's only shown when there are no results, according to		 -->
		<!-- query.NoResults.												 -->
		<div id='no_result' ng-show='query.noResults'>
			<p>No LUMA lights or clients found. Try a different search.</p>
		</div>
	</div>
	 <!-- The edit pane holds the editing UI.  -->
	 <div id='edit_pane' ng-show='isEditing'> 
		 <!-- The waveform editor paradigm allows users to edit the pattern	 -->
		 <!-- as three waveforms and periods. 								 -->
		 <div id='waveform' class='editor'
		 ng-controller='WaveformController as wave'>
			<!-- The three edit canvases and their container divs.			 -->
			<div id='red' class='wave_channel' ng-show='channel=="red"'>
				<div class='preset_button' ng-click='wave.sine(rCtx,rVals,"#FF0000")'>Sine</div>
				<div class='preset_button' ng-click='wave.saw(rCtx,rVals,"#FF0000")'>Sawtooth</div>
				<div class='preset_button' ng-click='wave.revsaw(rCtx,rVals,"#FF0000")'>Reverse Sawtooth</div>
				<div class='preset_button' ng-click='wave.square(rCtx,rVals,"#FF0000")'>Square</div>
				<div class='preset_button' ng-click='wave.triangle(rCtx,rVals,"#FF0000")'>Triangle</div>
			<canvas id='red_canvas' class='wave_canvas' width='1024' height='576'>
				Your browser does not support HTML5 Canvases.
			</canvas>    
			</div> 
			<div id='green' class='wave_channel' ng-show='channel=="green"'>
				<div class='preset_button' ng-click='wave.sine(gCtx,gVals,"#00FF00")'>Sine</div>
				<div class='preset_button' ng-click='wave.saw(gCtx,gVals,"#00FF00")'>Sawtooth</div>
				<div class='preset_button' ng-click='wave.revsaw(gCtx,gVals,"#00FF00")'>Reverse Sawtooth</div>
				<div class='preset_button' ng-click='wave.square(gCtx,gVals,"#00FF00")'>Square</div>
				<div class='preset_button' ng-click='wave.triangle(gCtx,gVals,"#00FF00")'>Triangle</div>
				<canvas id='green_canvas' class='wave_canvas' width='1024' height='576'>
				Your browser does not support HTML5 Canvases.
				</canvas> 
			</div> 
			<div id='blue' class='wave_channel' ng-show='channel=="blue"'>
				<div class='preset_button' ng-click='wave.sine(bCtx,gVals,"#0000FF")'>Sine</div>
				<div class='preset_button' ng-click='wave.saw(bCtx,gVals,"#0000FF")'>Sawtooth</div>
				<div class='preset_button' ng-click='wave.revsaw(bCtx,gVals,"#0000FF")'>Reverse Sawtooth</div>
				<div class='preset_button' ng-click='wave.square(bCtx,gVals,"#0000FF")'>Square</div>
				<div class='preset_button' ng-click='wave.triangle(bCtx,gVals,"#0000FF")'>Triangle</div>
			<canvas id='blue_canvas' class='wave_canvas' width='1024' height='576'>
				Your browser does not support HTML5 Canvases.
				</canvas> 
			</div>
			<!-- The three channel selection buttons. -->
			<div ng-click='channel="red"' id='red_select' class='wave_select_button'>
				Red Channel
			</div>
			<div ng-click='channel="green"' id='green_select' class='wave_select_button'>
				Green Channel
			</div>
			<div ng-click='channel="blue"' id='blue_select' class='wave_select_button'>
				Blue Channel
			</div>
		 </div> 
		 <!-- The node editor paradigm allows users to create a set of nodes and transitions.  -->
		 <div id='node' class='editor'></div> 
	 </div> 
</body>
</html>